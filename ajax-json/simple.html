<html>
    <head>
        <title>API</title>
    </head>
    <body>
       <p id="rawText"></p>

       <br>
       <br>

       <h3 id="name">Name: </h3>
       <h3 id="email">Email: </h3>
       <ul id="likes">
           
       </ul>

       <button onclick="getFile()">Get Data</button>

    </body>

    <script>
        
        function getFile() {
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
                if (this.readyState == 4 && this.status == 200) {
                    console.log(this.responseText);
                    document.getElementById("rawText").innerHTML = this.responseText;
                    //console.log(JSON.parse(this.responseText));
                    let s = JSON.parse(this.responseText);
                    console.log(s);
                    console.log(s.name);

                    document.getElementById("name").innerHTML += s.name;
                    document.getElementById("email").innerHTML += s.email;
                    document.getElementById("likes").innerHTML += ("<li>" + s.likes[0] + "</li>" + 
                                                                    "<li>" + s.likes[1] + "</li>" + 
                                                                    "<li>" + s.likes[2] + "</li>"); 
                }
            };
            xhttp.open("GET", "http://localhost/php-mysql-course/ajax-json/txt.json", true);
            xhttp.send();
        }
        
        



    
    
    </script>
</html>